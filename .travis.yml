language: node_js
node_js: node
cache:
  npm: false
jobs:
  include:
  - stage: Empty Stage (Temporary)
    script: echo "Empty first stage because visual-diff needs to be 2nd"
  - stage: visual-difference-tests
    script:
    - |
      if [ $TRAVIS_SECURE_ENV_VARS == true ]; then
        echo "Running visual difference tests...";
        npm run test:diff || travis_terminate 1;
      fi
env:
  global: 
  # GITHUB_RELEASE_TOKEN
  - secure: IAYzZasFCh2aOw6ziYuULpEOJ4TMQoiqCmJxOEcdZaCM5iw+DRVBCtIK7te/RZd6O+jwrXHyxuZ106Hi5jTu38We0CqFDXsa+99PdZKzmxPYvx/+OWDXtfol2dBDh8ZpphoGKjFC2jgj5y9uNl/5EMikhTgi3Mt3BjX+a9Ge8blShu+chqecJR3B+igptZhMafSzm18jx/b15JtOJyMZ8348EXaH+r4JiKbAjud+YyiEUf3bQ0HBOi0IR6fRwqjipL5ZvQbyMw4mQ7vqKM1HN8l/p+PQu+ib0QKMzZ4/8FqlHkHkejwqrSpvbmSqkyUNa8/za78QZ+nDi2HwsbmgcTLBsTuYhAH5xnIzr3LAeN/zgu+c6LkKApMCAHunsKVqonQIaYHLpccjDrj9kulQPpv+ja7L3WtL8vo+PIbqdq9TAJtKgfeA6cqiqLPeTHGJkhK9YhxZO+D+SgH/552I7aKTl32rhk4oML3yctBU+VaoVZZXzGzdXk0N0df5O6h890IHhCwZF5WbzMvD6AeyDLt/ZMynwrh9E8Xnb5+RmQWMTiiwDvgZOuvDVQ06AuFuVHM97jzEo1AtwYs/BHXJ+MI4hFYcyWoPgLiMHosTU5STfQebJbridO03iZfTSLle772eTVHXItE5FmXsH/ydzX0BE4scocePCNZnXGCZfJg=
  # VISUAL_DIFF_S3_ID
  - secure: fc6GC/+QWIhfvydydOPs5NtfcwzEuP/cbFt0tvDc9GokGDtfmL6mxB9QbOD/Pk4/7f3kv7gY2oMOPEEwB3+HbKZZWRsjgE2ZVgyTVIw/tPJz45t5jeUtg1u39bfNoRvxF73wwqt3Szakg5u3DkRlN4nw+tdktO/cmodeUhIVRDj5kfnX1iNg0jQuxwbTvctm8XcI5NdHBs7smARhUTSGdf0riJnXvrbTgAY6Q2YOgq5t5gd2gS5Zu5/hJe4GlK6ahu7mlc9qAj8eVPxiX/9r7VsnH4vMOBfGI1R56wxQjN8QYATDnaLoMCnC6GtveEAN9GXfj5jWf2G61ERraSRtn7UrdV830a+ZfkP2NhM4s8iIc9da6emUtiFjVv2+AoOA3XeXkGm1I+uikYzCW8s+mjBZrImAI2Yt6gKmpWgkijNDi9zzQ3CIFGUeRAXtk18Ly1ZS7FK16AQX84tB6NhvUoqPO/UMQaGr57pFZ3Hk9RC1jvQJvYdVFEWCSwIubQLPjZFa+fbeZY7O7SDtNR8NOqe5cxzEWZuHrazUAAQou+t06wIurBeKAmzblyTXuGwc5Q22SJwA/z+28c4TR4JDyoTVRDEusOaQzzvgziFIQVQ9Wy681fAUWo/OfTYlfrYFw7bxsdMeKSoAhGMoB+a7ct8NK9ZVRYkVfbhdWmq4pkk=
  # VISUAL_DIFF_S3_SECRET
  - secure: Y+B92C6//i+jLGZjjg9zq2c4gYlOLtWkRq5MeGnsMWXpEBYSBBhAc6Bob4UbntDnAkDESEhf4yLwKFKKnamLCV47hnhSQRy8DEK3i0GgiYPsvfHvB5nW+3dkqSfPZw6p8NB1TtMbvTZnxcn8Cq+SRddEVrIPqwtqpuOXla1mtX5zAXtD5a+AaFoE4MoFFBM/rM3eznpZ9S4ZdWF+JBWzGv2g7Rlxobe/AIxAnc5x3w2xo0Jvy7Df3nGfT7+FFXQchnBmrLRXzzbfNREunQqoYkKdFgof7ReMb9F93qkuUXusw4+s6Cc08LhEzHuWwJf09qHgnpfPODPg3ykGT+TQteeFeSD/oPU2hc0r7Cyw7nji2bIoMmfrj2mvrd6K3P+l/xScsCG29zFRnGG6yQqSb0Cb8O3QuqsBFf0ODAiL/bpSDfKWp05nhUnTkk5z6P9DjUt7cWnhyx8tvvc8ZPcpBOKjAfoDT41cVTpzziCmgrw1+W13S/KMpSYq0ohOfYFPiuNsW99AsFtg+GD3QTuAy9Lfus9VoHzBO4vrMK6NZSYVpYNAtBPdwFd6NC/7/AYdKpr2x/5k1eEhPD11VrQXjtuCxmpUUKIGBGZs99MmUCyQUiN8VZ8RxtURkkg4+vEE39AgtcVSQ17Nlj5nIun3Jg41/B8JaIrp4vKpqL4vtmw=
